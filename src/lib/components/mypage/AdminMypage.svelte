<script>
	import CommonMypageItem from './CommonMypageItem.svelte';
	import AdminMypageItem from './AdminMypageItem.svelte';

	/**
	 * @type {Object} ì»´í¬ë„ŒíŠ¸ Props
	 * @property {import('@supabase/supabase-js').User} user - ì‚¬ìš©ì ê°ì²´
	 * @property {Object | null} userProfile - ì‚¬ìš©ì í”„ë¡œí•„
	 */
	let { user, userProfile } = $props();

	/** @type {string} í™œì„± ë©”ë‰´ */
	let activeMenu = $state('profile');

	/**
	 * ë©”ë‰´ ë³€ê²½ í•¸ë“¤ëŸ¬
	 * @param {string} menuId - ë©”ë‰´ ID
	 */
	function handleMenuChange(menuId) {
		activeMenu = menuId;
	}

	/**
	 * ë©”ë‰´ í•­ëª© (ê³µí†µ + ê´€ë¦¬ì)
	 * @type {Array<{id: string, label: string, icon: string, href?: string}>}
	 */
	const menuItems = $derived([
		{ id: 'profile', label: 'ê°œì¸-í”„ë¡œí•„', icon: 'ğŸ‘¤' },
		{ id: 'settings', label: 'ê°œì¸-ì„¤ì •', icon: 'âš™ï¸' },
		{ id: 'users', label: 'ê´€ë¦¬ì-ì‚¬ìš©ì ê´€ë¦¬', icon: 'ğŸ‘¥', href: '/admin/users' },
		{ id: 'inquiries', label: 'ê´€ë¦¬ì-ë¬¸ì˜ ê´€ë¦¬', icon: 'ğŸ’¬', href: '/admin/inquiries' },
		{ id: 'categories', label: 'ê´€ë¦¬ì-ì¼ì • ì¹´í…Œê³ ë¦¬ ê´€ë¦¬', icon: 'ğŸ“', href: '/admin/categories' },
		{ id: 'board-categories', label: 'ê´€ë¦¬ì-ê²Œì‹œíŒ ì¹´í…Œê³ ë¦¬ ê´€ë¦¬', icon: 'ğŸ“‹', href: '/admin/board-categories' },
		{ id: 'boards', label: 'ê´€ë¦¬ì-ê²Œì‹œíŒ ê´€ë¦¬', icon: 'ğŸ“Š', href: '/admin/boards' },
		{ id: 'database', label: 'ê´€ë¦¬ì-Database ê´€ë¦¬', icon: 'ğŸ—„ï¸', href: '/admin/database' },
		{ id: 'logs', label: 'ê´€ë¦¬ì-ì•¡ì…˜ ë¡œê·¸', icon: 'ğŸ“', href: '/admin/logs' }
	]);
</script>

<CommonMypageItem
	{user}
	{userProfile}
	{activeMenu}
	{menuItems}
	onMenuChange={handleMenuChange}
	roleColorClass="bg-blue-100 text-blue-800"
	activeColorClass="bg-blue-50 text-blue-700"
>
	<AdminMypageItem {activeMenu} />
</CommonMypageItem>

